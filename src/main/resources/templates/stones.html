<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>

	<a href="/stone/preInsertStone">Inserisci</a>

	<!-- messaggio aggioramento avvenuto -->
	<div id="success-message" th:if="${successMessage}" class="alert alert-success" style="background-color: green;">
		<p style="color: aliceblue;" th:text="${successMessage}"></p>	
	</div>

	<table>
		<thead>
			<tr>
				<th>Nome</th>
				<th>Colore</th>
				<th>Descrizone</th>
				<th>Elemento</th>
				<th>Emozione</th>
				<th>Immagine</th>
				<th>Tipo</th>
			<tr>
		</thead>
		<tbody>
			<tr th:each="p : ${listaPietre}">
				<td th:text="${p.nome}"></td>
				<td th:text="${p.colore}"></td>
				<td th:text="${p.descrizione}"></td>
				<td th:text="${p.elemento}"></td>
				<td th:text="${p.emozione}"></td>
				<td>
					<img th:src="@{/images/} + ${p.imgName}" alt="..." width="100">
				</td>
				
				<td th:text="${p.tipo}"></td>
				<td>
           			<a th:href="@{/stone/delete/{id}(id=${p.id})}" 
               		onclick="return confirm('Sei sicuro di voler eliminare questa pietra?')">Elimina</a>
        		</td>
        		<td>
            		<a th:href="@{/stone/preUpdateStone/{id}(id=${p.id})}">Aggiorna</a>
        		</td>
			</tr>
		
		
		
		</tbody>
	
	
	</table>

	<!-- gestione visibilitÃ  messaggio aggiornamento -->
	<script>
		document.addEventListener("DOMContentLoaded", function () {
			const messageDiv = document.getElementById("success-message");
			if (messageDiv) {
				setTimeout(() => {
					messageDiv.style.display = "none";
				}, 3000); // 3000 millisecondi = 3 secondi
			}
		});
	</script>
	
</body>
</html>